(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[9],{437:function(e,t,a){},453:function(e,t,a){},455:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return i}));var n=a(6);function r(e,t,a,r){return{type:n.p,libType:e,title:t,page:a,pageSize:r}}function o(e){return{type:n.C,formValue:e}}function l(e){return{type:n.M,formValue:e}}function s(e,t){return{type:n.f,id:e,libType:t}}function i(e){return{type:n.I,libType:e}}function c(e){return{type:n.G,info:e}}},500:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(31),r=a(32),o=a(34),l=a(33),s=a(35),i=a(0),c=a.n(i),p=a(595),m=a(852),u=a(862),d=a(403),f=a(54),h=a(62),y=a(872),E=a(851),g=a(18),w=a(12),v=(a(437),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).close=function(){a.props.onClose("image")},a.state={page:1,searchTile:"",upload:!1,loading:!1,selected:""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){!e.show&&this.props.show&&this.props.getPicList("image","",0,20)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(p.a,{backdrop:!0,show:this.props.show,onHide:this.close,size:"lg"},c.a.createElement(p.a.Header,null,c.a.createElement(p.a.Title,null,c.a.createElement("span",null,"\u56fe\u7247\u7d20\u6750")),c.a.createElement(m.a,null),c.a.createElement(u.a,{className:"upload",onUpload:function(t){e.setState({upload:!0,loading:!0})},onSuccess:function(t,a){200===t.code?(e.props.getPicList("image","",0,20),d.a.success(t.message)):d.a.error(t.message),e.setState({upload:!1,loading:!1})},headers:{Authorization:"Bearer "+Object(g.a)("token")==="undefined"?"":Object(g.a)("token")},action:w.f+w.w,data:{type:"image"},fileListVisible:!1,disabled:this.state.upload},c.a.createElement(f.a,{style:{background:"#4caf50",color:"#ffffff"},loading:this.state.loading},c.a.createElement(h.a,{icon:"plus"})," \u4e0a\u4f20\u56fe\u7247"))),c.a.createElement(p.a.Body,{style:{marginTop:0}},c.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},this.props.picList.map((function(t){return c.a.createElement(y.a,{className:"picItem",key:t.id,style:{border:e.state.selected.id===t.id?"1px solid #4caf50":""}},c.a.createElement("img",{src:t.url,alt:t.name,height:"145",onClick:function(){e.setState({selected:t})}}),c.a.createElement("span",{style:{display:"block",textAlign:"center",overflow:"hidden"}},t.name))})))),c.a.createElement(p.a.Footer,null,c.a.createElement("div",null,this.props.total>0?c.a.createElement(E.a,{activePage:this.state.page,pages:Math.ceil(this.props.total/20),maxButtons:10,ellipsis:!0,onSelect:function(t){var a=e.props.getPicList;e.setState({page:t},(function(){a("image","",t,20)}))}}):""),c.a.createElement(f.a,{onClick:function(){e.props.onSelect(e.state.selected),e.props.clean&&e.setState({selected:!1}),e.close()},appearance:"primary"},"\u786e\u5b9a"),c.a.createElement(f.a,{onClick:this.close,appearance:"subtle"},"\u5173\u95ed"))))}}]),t}(c.a.Component))},861:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(6);var o=a(42),l=a(129),s=a(31),i=a(32),c=a(34),p=a(33),m=a(134),u=a(35),d=a(0),f=a.n(d),h=a(864),y=a(852),E=a(54),g=a(62);a(453);function w(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=a(140),b=a(403),k=a(873),L=a(401),C=a(396),O=a(407),j=a(404),S=a(180),_=a(194),x=a(850),V=a(402),N=a(859),T=a(867),I=a(500),K=a(595),F=a(872),P=a(851),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).close=function(){a.props.onClose("news")},a.state={page:1,searchTile:"",upload:!1,loading:!1,selected:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){!e.show&&this.props.show&&this.props.getNewsList("news","",0,20)}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(K.a,{backdrop:!0,show:this.props.show,onHide:this.close,size:"lg"},f.a.createElement(K.a.Header,null,f.a.createElement(K.a.Title,null,f.a.createElement("span",null,"\u56fe\u6587\u7d20\u6750")),f.a.createElement(y.a,null)),f.a.createElement(K.a.Body,{style:{marginTop:0}},f.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},this.props.newsList.map((function(t){return f.a.createElement(F.a,{className:"picItem",key:t.id,style:{border:e.state.selected.id===t.id?"1px solid #4caf50":""}},f.a.createElement("img",{src:t.cover_pic,alt:t.name,height:"145",onClick:function(){e.setState({selected:t})}}),f.a.createElement("span",{style:{display:"block",textAlign:"center",overflow:"hidden"}},t.title))})))),f.a.createElement(K.a.Footer,null,f.a.createElement("div",null,this.props.total>0?f.a.createElement(P.a,{activePage:this.state.page,pages:Math.ceil(this.props.total/20),maxButtons:10,ellipsis:!0,onSelect:function(t){var a=e.props.getNewsList;e.setState({page:t},(function(){a("news","",t,20)}))}}):""),f.a.createElement(E.a,{onClick:function(){e.props.onSelect(e.state.selected),e.props.clean&&e.setState({selected:!1}),e.close()},appearance:"primary"},"\u786e\u5b9a"),f.a.createElement(E.a,{onClick:this.close,appearance:"subtle"},"\u5173\u95ed"))))}}]),t}(f.a.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).addReplay=function(e){if("text"===e){var t=a.props.formValue.content,n={type:e};t.push(n),a.handleFrom("content",t)}else{var r=e+"Layer";a.setState(Object(v.a)({},r,!0))}},a.handleFrom=function(e,t){var n=a.props.formValue;n[e]=t,n.type="key_words",a.setState({formValue:n}),a.props.onModify(n)},a.handleUpdate=function(){var e=a.props.formValue.name.trim(),t=a.props.formValue.key_words,n=a.props.formValue.content;return e?t[0]?n[0]?void a.props.onUpdate(a.props.formValue):(b.a.error("\u56de\u590d\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"),!1):(b.a.error("\u5173\u952e\u8bcd\u4e0d\u80fd\u4e3a\u7a7a"),!1):(b.a.error("\u89c4\u5219\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),!1)},a.closeLayer=function(e){var t=e+"Layer";a.setState(Object(v.a)({},t,!1))},a.onImgSelect=function(e){var t=a.props.formValue.content,n={type:"image",id:e.id,img:e.url,title:e.name};t.push(n),a.handleFrom("content",t)},a.onNewsSelect=function(e){var t=a.props.formValue.content,n={type:"news",id:e.id,img:e.cover_pic,title:e.title};t.push(n),a.handleFrom("content",t)},a.state={show:!0,matchType:[{label:"\u534a\u5339\u914d",value:"1"},{label:"\u5168\u5339\u914d",value:"2"}],formValue:"",match:"1",imageLayer:!1,newsLayer:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return f.a.createElement(k.a,{show:this.props.show,onHide:this.props.onClose,size:"md"},f.a.createElement(k.a.Header,null,f.a.createElement(k.a.Title,null,this.props.title)),f.a.createElement(k.a.Body,null,f.a.createElement(L.a,{fluid:!0},f.a.createElement(C.a,null,f.a.createElement(O.a,null,"\u89c4\u5219\u540d\u79f0"),f.a.createElement(j.a,{name:"name",value:this.props.formValue.name,onChange:function(t){e.handleFrom("name",t)}})),f.a.createElement(C.a,null,f.a.createElement(O.a,null,"\u5339\u914d\u65b9\u5f0f")),f.a.createElement(C.a,null,f.a.createElement("div",{className:"reply-attach-after"},f.a.createElement(O.a,null,"\u5173\u952e\u8bcd"),f.a.createElement(S.a,{placement:"top",trigger:"hover",speaker:f.a.createElement(_.a,null,"\u6dfb\u52a0")},f.a.createElement(E.a,{color:"green",onClick:function(){var t=e.props.formValue.key_words;t.push({match:"1",words:""}),e.handleFrom("key_words",t)}},"+"))),this.props.formValue.key_words.map((function(t,a){return f.a.createElement("div",{key:a,className:"reply-attach-before",style:{marginBottom:"15px"}},a>0?f.a.createElement(S.a,{placement:"top",trigger:"hover",speaker:f.a.createElement(_.a,null,"\u5220\u9664")},f.a.createElement(E.a,{color:"red",onClick:function(){var t=e.props.formValue.key_words,n=w(t.slice(0,a));n.push.apply(n,w(t.slice(a+1))),e.handleFrom("key_words",n)}},"x")):"",f.a.createElement(x.a,{data:e.state.matchType,defaultValue:t.match.toString(),searchable:!1,block:!0,cleanable:!1,onChange:function(t){e.setState({match:t})}}),f.a.createElement(j.a,{name:"key_words[]",value:t.words,onChange:function(t){e.props.formValue.key_words[a]={match:e.state.match,words:t},e.handleFrom("key_words",e.props.formValue.key_words)}}))}))),f.a.createElement(C.a,null,f.a.createElement("div",{className:"reply-attach-after"},f.a.createElement(O.a,null,"\u56de\u590d\u5185\u5bb9"),f.a.createElement(S.a,{placement:"top",trigger:"hover",speaker:f.a.createElement(_.a,null,"\u6dfb\u52a0")},f.a.createElement(V.a,{renderTitle:function(){return f.a.createElement(E.a,{color:"green"},"+")},placement:"rightEnd",onSelect:this.addReplay},f.a.createElement(V.a.Item,{eventKey:"news"},f.a.createElement(g.a,{icon:"newspaper-o"})," \u56fe\u6587\u6d88\u606f"),f.a.createElement(V.a.Item,{eventKey:"text"},f.a.createElement(g.a,{icon:"file-text"})," \u6587\u672c\u6d88\u606f"),f.a.createElement(V.a.Item,{eventKey:"image"},f.a.createElement(g.a,{icon:"image"})," \u56fe\u7247\u6d88\u606f")))),this.props.formValue.content.map((function(t,a){if("text"===t.type||"news"===t.type||"image"===t.type)return f.a.createElement("div",{key:a,className:"reply-attach-before",style:{marginBottom:"15px"}},a>0?f.a.createElement(S.a,{placement:"top",trigger:"hover",speaker:f.a.createElement(_.a,null,"\u5220\u9664")},f.a.createElement(E.a,{color:"red",onClick:function(){var t=e.props.formValue.content,n=w(t.slice(0,a));n.push.apply(n,w(t.slice(a+1))),e.handleFrom("content",n)}},"x")):"","text"===t.type?f.a.createElement(j.a,{name:"content[]",componentClass:"textarea",rows:5,value:t.content,onChange:function(t){e.props.formValue.content[a].content=t,e.handleFrom("content",e.props.formValue.content)}}):"news"===t.type?f.a.createElement("div",null,f.a.createElement("img",{height:"145",src:t.img,alt:""}),f.a.createElement("span",{style:{display:"block",textAlign:"center",overflow:"hidden"}},t.title)):"image"===t.type?f.a.createElement("div",null,f.a.createElement("img",{height:"145",src:t.img,alt:""}),f.a.createElement("span",{style:{display:"block",textAlign:"center",overflow:"hidden"}},t.title)):"")}))),f.a.createElement(C.a,null,f.a.createElement(O.a,null,"\u56de\u590d\u65b9\u5f0f"),f.a.createElement(N.a,{inline:!0,name:"reply_type",value:this.props.formValue.reply_type,onChange:function(t){e.handleFrom("reply_type",t)}},f.a.createElement(T.a,{value:"1"},"\u56de\u590d\u5168\u90e8"),f.a.createElement(T.a,{value:"2"},"\u968f\u673a\u4e00\u6761"))))),f.a.createElement(k.a.Footer,null,f.a.createElement(E.a,{onClick:this.handleUpdate,appearance:"primary"},"\u63d0\u4ea4"),f.a.createElement(E.a,{onClick:this.props.onClose,appearance:"subtle"},"\u53d6\u6d88")),f.a.createElement(I.a,{show:this.state.imageLayer,picList:this.props.picList.list,total:this.props.picList.total,getPicList:this.props.getPicList,onSelect:this.onImgSelect,onClose:this.closeLayer,clean:!0}),f.a.createElement(D,{show:this.state.newsLayer,newsList:this.props.newsList.list,total:this.props.newsList.total,clean:!0,getNewsList:this.props.getPicList,onSelect:this.onNewsSelect,onClose:this.closeLayer}))}}]),t}(f.a.Component),A=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return f.a.createElement(k.a,{show:this.props.show,onHide:this.props.onClose,size:"xs"},f.a.createElement(k.a.Header,null,f.a.createElement(k.a.Title,null,"\u67e5\u770b\u8be6\u60c5")),f.a.createElement(k.a.Body,null,f.a.createElement("div",{className:"info-body"},f.a.createElement("div",{className:"info-header"},"\u89c4\u5219\u540d\u79f0"),f.a.createElement("div",{className:"info-content"},this.props.info.name)),f.a.createElement("div",{className:"info-body"},f.a.createElement("div",{className:"info-header"},"\u5173\u952e\u8bcd"),f.a.createElement("div",{className:"info-content"},this.props.info.key_words.map((function(e,t){return f.a.createElement("span",{key:t},e.words,"(","1"===e.match?"\u534a\u5339\u914d":"\u5168\u5339\u914d",")")})))),f.a.createElement("div",{className:"info-body"},f.a.createElement("div",{className:"info-header"},"\u56de\u590d\u5185\u5bb9"),f.a.createElement("div",{className:"info-content"},this.props.info.content.map((function(e,t){return f.a.createElement("span",{key:t,style:{display:"block"}},e)})))),f.a.createElement("div",{className:"info-body"},f.a.createElement("div",{className:"info-header"},"\u56de\u590d\u65b9\u5f0f"),f.a.createElement("div",{className:"info-content"},"1"===this.props.info.reply_type?"\u5168\u90e8\u56de\u590d":"\u968f\u673a\u4e00\u6761"))),f.a.createElement(k.a.Footer,null,f.a.createElement(E.a,{onClick:this.props.onClose,appearance:"primary"},"\u5173\u95ed")))}}]),t}(f.a.Component),B=a(184),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).add=function(){a.setState({show:!0})},a.close=function(){var e=a.props.onModify;a.setState({show:!1},(function(){setTimeout((function(){e({id:0,name:"",match_type:"1",key_words:[{match:"1",words:""}],content:[],reply_type:"1",type:"key_words"})}),500)}))},a.closeInfo=function(){a.setState({showInfo:!1})},a.state={show:!1,showInfo:!1,info:B.b.formValue,title:"\u6dfb\u52a0\u56de\u590d",page:1},a.add=a.add.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getList("key_words",0,20)}},{key:"componentDidUpdate",value:function(e,t,a){!e.update&&this.props.update&&this.close()}},{key:"render",value:function(){var e=this,t=h.a.Column,a=h.a.HeaderCell,n=h.a.Cell,r=h.a.Pagination;return f.a.createElement("div",{id:"page"},f.a.createElement(M,{show:this.state.show,onClose:this.close,title:this.state.title,formValue:this.props.formValue,onModify:this.props.onModify,onUpdate:this.props.onUpdate,picList:this.props.picList,getPicList:this.props.getPicList,total:this.props.total,selected:this.props.selected,newsList:this.props.newsList}),f.a.createElement(A,{info:this.state.info,show:this.state.showInfo,onClose:this.closeInfo}),f.a.createElement(E.a,{color:"orange",onClick:this.add},f.a.createElement(g.a,{icon:"plus"})," \u65b0\u589e\u56de\u590d"),f.a.createElement(y.a,null),f.a.createElement(h.a,{loading:!1,data:this.props.list,style:{marginLeft:25,marginRight:25},autoHeight:!0},f.a.createElement(t,{width:50,align:"center",fixed:!0},f.a.createElement(a,null,"Id"),f.a.createElement(n,{dataKey:"id"})),f.a.createElement(t,{flexGrow:4},f.a.createElement(a,null,"\u89c4\u5219\u540d\u79f0"),f.a.createElement(n,{dataKey:"name"})),f.a.createElement(t,{flexGrow:9},f.a.createElement(a,null,"\u5173\u952e\u5b57"),f.a.createElement((function(e){var t=e.rowData,a=(e.dataKey,Object(l.a)(e,["rowData","dataKey"])),r=t.key_words,o="";return r.forEach((function(e,t){o+=e.words+","})),o.length>0&&(o=o.substr(0,o.length-1)),f.a.createElement(n,a,o)}),{dataKey:"key_words"})),f.a.createElement(t,{flexGrow:9},f.a.createElement(a,null,"\u56de\u590d\u5185\u5bb9"),f.a.createElement(n,{dataKey:"content"})),f.a.createElement(t,{flexGrow:3},f.a.createElement(a,null),f.a.createElement((function(t){var a=t.rowData,r=(t.dataKey,Object(l.a)(t,["rowData","dataKey"]));return f.a.createElement(n,Object.assign({},r,{className:"link-group"}),f.a.createElement("a",{role:"button",onClick:function(){e.props.onModify({id:a.id,name:a.name,key_words:a.key_words,content:a.content.split(","),reply_type:a.reply_type.toString(),type:"key_words"}),e.setState({title:"\u7f16\u8f91\u56de\u590d",show:!0})}},"\u7f16\u8f91"),f.a.createElement(y.a,{vertical:!0}),f.a.createElement("a",{role:"button",onClick:function(){e.setState({showInfo:!0,info:{id:a.id,name:a.name,key_words:a.key_words,content:a.content.split(","),reply_type:a.reply_type.toString(),type:"key_words"}})}},"\u8be6\u60c5"),f.a.createElement(y.a,{vertical:!0}),f.a.createElement("a",{role:"button",onClick:function(){e.props.onDel(a.id,"key_words")}},"\u5220\u9664"))}),{dataKey:"id"}))),this.props.total>0?f.a.createElement(r,{activePage:this.state.page,displayLength:20,total:this.props.total,renderLengthMenu:function(){return""},renderTotal:function(){return f.a.createElement("div",null,"\u603b\u6570:",e.props.total)},onChangePage:function(t){e.props.getList("key_words",t,20),e.setState({page:t})}}):"")}}]),t}(f.a.Component),U=a(455);t.default=Object(n.o)(Object(o.c)((function(e){return{list:e.KeyWords.list,picList:{total:e.LibraryOther.total,list:e.LibraryOther.list},newsList:{total:e.LibraryImgTxt.total,list:e.LibraryImgTxt.list},total:e.KeyWords.total,update:e.KeyWords.update,del:e.KeyWords.del,formValue:e.KeyWords.formValue,selected:e.LibraryImgTxt.info}}),(function(e){return{getList:function(t,a,n){return e(function(e,t,a){return{type:r.n,replyType:e,page:t,pageSize:a}}(t,a,n))},onUpdate:function(t){return e(function(e){return{type:r.L,formValue:e}}(t))},onDel:function(t,a){return e(function(e,t){return{type:r.e,id:e,editType:t}}(t,a))},onModify:function(t){return e(function(e){return{type:r.B,formValue:e}}(t))},getPicList:function(t,a,n,r){return e(U.b(t,a,n,r))}}}))(H))}}]);
//# sourceMappingURL=9.9eeea83b.chunk.js.map