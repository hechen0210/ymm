(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[8],{432:function(e,t,a){"use strict";var n=a(47),o=Object(n.a)(null);t.a=o},461:function(e,t,a){"use strict";var n=a(3),o=a(7),r=a(9),i=a(0),s=a(1),l=a.n(s),c=a(8),d=a.n(c),u=a(40),f=a.n(u),p=a(204),m=a(432),h=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.className,r=e.style,s=Object(o.a)(e,["classPrefix","className","style"]),l=d()(t,a);return i.createElement(m.a.Consumer,null,(function(e){var t=e?e.getBodyStyles():{};return i.createElement("div",Object(n.a)({},s,{style:Object(n.a)({},t,{},r),className:l}))}))},t}(i.Component);h.propTypes={classPrefix:l.a.string,className:l.a.string};var b=Object(p.a)({classPrefix:"modal-body"})(h);t.a=f()("ModalBody")(b)},462:function(e,t,a){"use strict";var n=a(3),o=a(7),r=a(9),i=a(0),s=a(1),l=a.n(s),c=a(8),d=a.n(c),u=a(25),f=a(203),p=a(204),m=a(432),h=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.onHide,r=e.className,s=e.closeButton,l=e.children,c=Object(o.a)(e,["classPrefix","onHide","className","closeButton","children"]),p=d()(t,r),h=Object(u.a)(t),b=i.createElement(m.a.Consumer,null,(function(e){return i.createElement("button",{type:"button",className:h("close"),"aria-label":"Close",onClick:Object(f.a)(a,e?e.onModalHide:null)},i.createElement("span",{"aria-hidden":"true"},"\xd7"))}));return i.createElement("div",Object(n.a)({},c,{className:p}),s&&b,l)},t}(i.Component);h.propTypes={classPrefix:l.a.string,className:l.a.string,closeButton:l.a.bool,children:l.a.node,onHide:l.a.func},h.defaultProps={closeButton:!0},t.a=Object(p.a)({classPrefix:"modal-header"})(h)},463:function(e,t,a){"use strict";var n=a(3),o=a(7),r=a(9),i=a(0),s=a(1),l=a.n(s),c=a(8),d=a.n(c),u=a(204),f=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.classPrefix,r=e.children,s=Object(o.a)(e,["className","classPrefix","children"]),l=d()(a,t);return i.createElement("h4",Object(n.a)({},s,{className:l}),r)},t}(i.Component);f.propTypes={className:l.a.string,classPrefix:l.a.string,children:l.a.node},t.a=Object(u.a)({classPrefix:"modal-title"})(f)},464:function(e,t,a){"use strict";var n=a(3),o=a(7),r=a(9),i=a(0),s=a(1),l=a.n(s),c=a(8),d=a.n(c),u=a(204),f=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.className,r=Object(o.a)(e,["classPrefix","className"]),s=d()(t,a);return i.createElement("div",Object(n.a)({},r,{className:s}))},t}(i.Component);f.propTypes={classPrefix:l.a.string,className:l.a.string},t.a=Object(u.a)({classPrefix:"modal-footer"})(f)},478:function(e,t,a){"use strict";var n=a(3),o=a(7),r=a(9),i=a(15),s=a.n(i),l=a(205),c=a.n(l),d=a(0),u=a(1),f=a.n(u),p=a(8),m=a.n(p),h=a(40),b=a.n(h),y=a(17),g=a.n(y),E=a(460),j=a.n(E),O=a(211),v=a.n(O),x=a(210),C=a.n(x),P=a(36),w=a(25),N=a(203),k=a(204),S=a(39),T=a.n(S),R=a(393),H={className:f.a.string,classPrefix:f.a.string,dialogClassName:f.a.string,style:f.a.object,dialogStyle:f.a.object,children:f.a.node,dialogRef:f.a.object},B=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.style,a=e.children,r=e.dialogClassName,i=e.dialogStyle,s=e.classPrefix,l=e.className,c=e.dialogRef,u=Object(o.a)(e,["style","children","dialogClassName","dialogStyle","classPrefix","className","dialogRef"]),f=Object(n.a)({display:"block"},t),p=Object(w.a)(s),h=m()(p("dialog"),r);return d.createElement("div",Object(n.a)({},u,{title:null,role:"dialog",ref:c,className:m()(s,l),style:f}),d.createElement("div",{className:h,style:i},d.createElement("div",{className:p("content"),role:"document"},a)))},t}(d.Component);B.propTypes=H;var z=T()(Object(R.a)({hasSize:!0}),Object(k.a)({classPrefix:"modal"}))(B),M=a(461),D=a(462),V=a(463),L=a(464),K=a(37),F=a(432),U=function(e){function t(t){var a;return(a=e.call(this,t)||this).dialogRef=void 0,a.modalRef=void 0,a.windowResizeListener=null,a.contentElement=null,a.getBodyStyles=function(){return a.state.bodyStyles},a.handleShow=function(){var e=a.dialogRef.current;a.updateModalStyles(e),a.contentElement=e.querySelector("."+a.addPrefix("content")),a.windowResizeListener=Object(P.on)(window,"resize",a.handleResize),j()(a.contentElement,a.handleResize)},a.handleHide=function(){a.destroyEvent()},a.handleDialogClick=function(e){if(e.target===e.currentTarget){var t=a.props.onHide;t&&t(e)}},a.handleResize=function(){a.updateModalStyles(a.dialogRef.current)},a.addPrefix=function(e){return Object(w.a)(a.props.classPrefix)(e)},a.state={bodyStyles:{}},a.dialogRef=d.createRef(),a.modalRef=d.createRef(),a}Object(r.a)(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.destroyEvent()},a.getBodyStylesByDialog=function(e){var t=this.props,a=t.overflow,n=t.drawer,o=e||this.dialogRef.current,r=o?o.scrollHeight:0;if(!a)return{};var i={overflow:"auto"};if(o){var s,l=46,c=30,d=o.querySelector("."+this.addPrefix("header")),u=o.querySelector("."+this.addPrefix("footer")),f=o.querySelector("."+this.addPrefix("content"));if(l=d?Object(P.getHeight)(d)+l:l,s=u?Object(P.getHeight)(u)+l:l,c=f?Object(P.getHeight)(f)+c:c,n)i.height=c-(l+s);else{var p=l+s+60,m=Object(P.getHeight)(window)-p,h=r>=m?m:r;i.maxHeight=h}}return i},a.destroyEvent=function(){this.windowResizeListener&&this.windowResizeListener.off(),this.contentElement&&Object(E.unbind)(this.contentElement)},a.updateModalStyles=function(e){this.setState({bodyStyles:this.getBodyStylesByDialog(e)})},a.render=function(){var e,t,a=this.props,r=a.className,i=a.children,l=a.dialogClassName,u=a.backdropClassName,f=a.dialogStyle,p=a.animation,h=a.classPrefix,b=a.show,y=a.size,g=a.full,E=a.dialogComponentClass,j=a.animationProps,O=a.animationTimeout,x=a.onHide,C=Object(o.a)(a,["className","children","dialogClassName","backdropClassName","dialogStyle","animation","classPrefix","show","size","full","dialogComponentClass","animationProps","animationTimeout","onHide"]),P={in:b&&!p},w=E,k=c()(C,s()(v.a,"handledProps")),S=m()(this.addPrefix(y),r,((e={})[this.addPrefix("full")]=g,e)),T=d.createElement(w,Object(n.a)({},c()(C,Object.keys(H)),{classPrefix:h,className:S,dialogClassName:l,dialogStyle:f,onClick:!0===C.backdrop?this.handleDialogClick:null,dialogRef:this.dialogRef}),i);return d.createElement(F.a.Provider,{value:{onModalHide:x,getBodyStyles:this.getBodyStyles}},d.createElement(v.a,Object(n.a)({ref:this.modalRef,show:b,onHide:x,className:this.addPrefix("wrapper"),onEntering:Object(N.a)(this.handleShow,this.props.onEntering),onExited:Object(N.a)(this.handleHide,this.props.onExited),backdropClassName:m()(this.addPrefix("backdrop"),u,P),containerClassName:m()(this.addPrefix("open"),(t={},t[this.addPrefix("has-backdrop")]=C.backdrop,t)),transition:p||void 0,animationProps:j,dialogTransitionTimeout:O,backdropTransitionTimeout:150},k),T))},t}(d.Component);U.propTypes={classPrefix:f.a.string,size:f.a.oneOf(K.e),container:f.a.oneOfType([f.a.node,f.a.func]),onRendered:f.a.func,className:f.a.string,children:f.a.node,dialogClassName:f.a.string,backdropClassName:f.a.string,style:f.a.object,dialogStyle:f.a.object,backdropStyle:f.a.object,show:f.a.bool,full:f.a.bool,backdrop:f.a.oneOfType([f.a.bool,f.a.string]),keyboard:f.a.bool,transition:f.a.elementType,dialogTransitionTimeout:f.a.number,backdropTransitionTimeout:f.a.number,autoFocus:f.a.bool,enforceFocus:f.a.bool,overflow:f.a.bool,drawer:f.a.bool,dialogComponentClass:f.a.elementType,animation:f.a.any,animationProps:f.a.object,animationTimeout:f.a.number,onEscapeKeyUp:f.a.func,onBackdropClick:f.a.func,onShow:f.a.func,onHide:f.a.func,onEnter:f.a.func,onEntering:f.a.func,onEntered:f.a.func,onExit:f.a.func,onExiting:f.a.func,onExited:f.a.func},U.defaultProps={size:"sm",backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,animation:C.a,animationTimeout:300,dialogComponentClass:z,overflow:!0};var A=Object(k.a)({classPrefix:"modal"})(U);g()("Body",M.a)(A),g()("Header",D.a)(A),g()("Title",V.a)(A),g()("Footer",L.a)(A),g()("Dialog",z)(A);t.a=b()("Modal")(A)},499:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(6);function o(e,t){return{type:n.j,page:e,pageSize:t}}function r(e,t,a){return{type:n.K,id:e,name:t,editType:a}}function i(e,t){return{type:n.d,id:e,editType:t}}function s(e){return{type:n.A,formValue:e}}function l(){return{type:n.a}}},594:function(e,t,a){},595:function(e,t,a){"use strict";var n=a(478);t.a=n.a},868:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(129),r=a(31),i=a(32),s=a(34),l=a(33),c=a(134),d=a(35),u=a(0),f=a.n(u),p=a(864),m=a(852),h=a(54),b=a(62),y=(a(594),a(403)),g=a(595),E=a(401),j=a(396),O=a(407),v=a(404),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).handleFrom=function(e,t){var n=a.props.formValue;n[e]=t,a.setState({formValue:n}),a.props.onModify(n)},a.handleUpdate=function(){var e=a.props.formValue.id,t=a.props.formValue.name.trim();if(!t)return y.a.error("\u533a\u57df\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),!1;a.props.onEdit(e,t,"area")},a.state={show:!0,formValue:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(g.a,{backdrop:!0,show:this.props.show,onHide:this.props.onClose,size:"xs"},f.a.createElement(g.a.Header,null,f.a.createElement(g.a.Title,null,"\u65b0\u589e\u533a\u57df")),f.a.createElement(g.a.Body,null,f.a.createElement(E.a,{fluid:!0},f.a.createElement(j.a,null,f.a.createElement(O.a,null,"\u533a\u57df\u540d\u79f0"),f.a.createElement(v.a,{name:"name",value:this.props.formValue.name,onChange:function(t){e.handleFrom("name",t)}})))),f.a.createElement(g.a.Footer,null,f.a.createElement(h.a,{onClick:this.handleUpdate,appearance:"primary"},"\u63d0\u4ea4"),f.a.createElement(h.a,{onClick:this.props.onClose,appearance:"subtle"},"\u53d6\u6d88"))))}}]),t}(f.a.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).add=function(){a.setState({show:!0})},a.close=function(){var e=a.props.onModify;a.setState({show:!1},(function(){setTimeout((function(){e({id:0,name:""})}),500)}))},a.state={show:!1,page:1},a.add=a.add.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getList(0,20)}},{key:"componentDidUpdate",value:function(e,t,a){!e.update&&this.props.update&&this.close()}},{key:"render",value:function(){var e=this,t=p.a.Column,a=p.a.HeaderCell,n=p.a.Cell,r=p.a.Pagination;return f.a.createElement("div",{id:"page"},f.a.createElement(x,{show:this.state.show,formValue:this.props.formValue,onEdit:this.props.onUpdate,onClose:this.close,onModify:this.props.onModify}),f.a.createElement(h.a,{color:"orange",onClick:this.add},f.a.createElement(b.a,{icon:"plus"})," \u65b0\u589e\u533a\u57df"),f.a.createElement(m.a,null),f.a.createElement(p.a,{loading:!1,data:this.props.list,style:{marginLeft:25,marginRight:25},autoHeight:!0},f.a.createElement(t,{width:50,align:"center",fixed:!0},f.a.createElement(a,null,"ID"),f.a.createElement(n,{dataKey:"id"})),f.a.createElement(t,{flexGrow:6},f.a.createElement(a,null,"\u533a\u57df\u540d\u79f0"),f.a.createElement(n,{dataKey:"name"})),f.a.createElement(t,{flexGrow:3},f.a.createElement(a,null,"\u57ce\u5e02\u6570\u91cf"),f.a.createElement(n,{dataKey:"city_num"})),f.a.createElement(t,{flexGrow:3},f.a.createElement(a,null,"\u95e8\u5e97\u6570\u91cf"),f.a.createElement(n,{dataKey:"shop_num"})),f.a.createElement(t,{flexGrow:6},f.a.createElement(a,null),f.a.createElement((function(t){var a=t.rowData,r=(t.dataKey,Object(o.a)(t,["rowData","dataKey"]));return f.a.createElement(n,Object.assign({},r,{className:"link-group"}),f.a.createElement("a",{role:"button",onClick:function(){e.props.onModify({id:a.id,name:a.name}),e.setState({show:!0})}},"\u7f16\u8f91"),f.a.createElement(m.a,{vertical:!0}),f.a.createElement("a",{role:"button",onClick:function(){e.props.onDel(a.id,"area")}},"\u5220\u9664"))}),{dataKey:"id"}))),this.props.total>0?f.a.createElement(r,{activePage:this.state.page,displayLength:20,renderLengthMenu:function(){return""},total:this.props.total,onChangePage:function(t){e.props.getList(t,20),e.setState({page:t})}}):"")}}]),t}(f.a.Component),P=a(499),w=a(42);t.default=Object(n.o)(Object(w.c)((function(e){return{list:e.Area.list,total:e.Area.total,update:e.Area.update,del:e.Area.del,formValue:e.Area.formValue}}),(function(e){return{getList:function(t,a){return e(Object(P.c)(t,a))},onUpdate:function(t,a,n){return e(Object(P.e)(t,a,n))},onDel:function(t,a){return e(Object(P.a)(t,a))},onModify:function(t){return e(Object(P.d)(t))}}}))(C))}}]);
//# sourceMappingURL=8.b1fb7c45.chunk.js.map