(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[6],{419:function(e,t,a){"use strict";var n=a(45),o=Object(n.a)(null);t.a=o},436:function(e,t,a){"use strict";var n=a(2),o=a(5),r=a(8),i=a(0),s=a(1),l=a.n(s),c=a(6),d=a.n(c),u=a(37),p=a.n(u),f=a(201),m=a(419),h=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.className,r=e.style,s=Object(o.a)(e,["classPrefix","className","style"]),l=d()(t,a);return i.createElement(m.a.Consumer,null,(function(e){var t=e?e.getBodyStyles():{};return i.createElement("div",Object(n.a)({},s,{style:Object(n.a)({},t,{},r),className:l}))}))},t}(i.Component);h.propTypes={classPrefix:l.a.string,className:l.a.string};var b=Object(f.a)({classPrefix:"modal-body"})(h);t.a=p()("ModalBody")(b)},437:function(e,t,a){"use strict";var n=a(2),o=a(5),r=a(8),i=a(0),s=a(1),l=a.n(s),c=a(6),d=a.n(c),u=a(20),p=a(200),f=a(201),m=a(419),h=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.onHide,r=e.className,s=e.closeButton,l=e.children,c=Object(o.a)(e,["classPrefix","onHide","className","closeButton","children"]),f=d()(t,r),h=Object(u.a)(t),b=i.createElement(m.a.Consumer,null,(function(e){return i.createElement("button",{type:"button",className:h("close"),"aria-label":"Close",onClick:Object(p.a)(a,e?e.onModalHide:null)},i.createElement("span",{"aria-hidden":"true"},"\xd7"))}));return i.createElement("div",Object(n.a)({},c,{className:f}),s&&b,l)},t}(i.Component);h.propTypes={classPrefix:l.a.string,className:l.a.string,closeButton:l.a.bool,children:l.a.node,onHide:l.a.func},h.defaultProps={closeButton:!0},t.a=Object(f.a)({classPrefix:"modal-header"})(h)},438:function(e,t,a){"use strict";var n=a(2),o=a(5),r=a(8),i=a(0),s=a(1),l=a.n(s),c=a(6),d=a.n(c),u=a(201),p=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.classPrefix,r=e.children,s=Object(o.a)(e,["className","classPrefix","children"]),l=d()(a,t);return i.createElement("h4",Object(n.a)({},s,{className:l}),r)},t}(i.Component);p.propTypes={className:l.a.string,classPrefix:l.a.string,children:l.a.node},t.a=Object(u.a)({classPrefix:"modal-title"})(p)},439:function(e,t,a){"use strict";var n=a(2),o=a(5),r=a(8),i=a(0),s=a(1),l=a.n(s),c=a(6),d=a.n(c),u=a(201),p=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.className,r=Object(o.a)(e,["classPrefix","className"]),s=d()(t,a);return i.createElement("div",Object(n.a)({},r,{className:s}))},t}(i.Component);p.propTypes={classPrefix:l.a.string,className:l.a.string},t.a=Object(u.a)({classPrefix:"modal-footer"})(p)},469:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(9);function o(e,t){return{type:n.i,page:e,pageSize:t}}function r(e,t,a){return{type:n.E,id:e,name:t,editType:a}}function i(e,t){return{type:n.d,id:e,editType:t}}function s(e){return{type:n.x,formValue:e}}function l(){return{type:n.a}}},476:function(e,t,a){"use strict";var n=a(2),o=a(5),r=a(8),i=a(14),s=a.n(i),l=a(202),c=a.n(l),d=a(0),u=a(1),p=a.n(u),f=a(6),m=a.n(f),h=a(37),b=a.n(h),y=a(16),g=a.n(y),E=a(435),j=a.n(E),O=a(208),v=a.n(O),x=a(207),C=a.n(x),P=a(32),w=a(20),N=a(200),k=a(201),S=a(38),T=a.n(S),R=a(390),H={className:p.a.string,classPrefix:p.a.string,dialogClassName:p.a.string,style:p.a.object,dialogStyle:p.a.object,children:p.a.node,dialogRef:p.a.object},B=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.style,a=e.children,r=e.dialogClassName,i=e.dialogStyle,s=e.classPrefix,l=e.className,c=e.dialogRef,u=Object(o.a)(e,["style","children","dialogClassName","dialogStyle","classPrefix","className","dialogRef"]),p=Object(n.a)({display:"block"},t),f=Object(w.a)(s),h=m()(f("dialog"),r);return d.createElement("div",Object(n.a)({},u,{title:null,role:"dialog",ref:c,className:m()(s,l),style:p}),d.createElement("div",{className:h,style:i},d.createElement("div",{className:f("content"),role:"document"},a)))},t}(d.Component);B.propTypes=H;var z=T()(Object(R.a)({hasSize:!0}),Object(k.a)({classPrefix:"modal"}))(B),M=a(436),D=a(437),V=a(438),L=a(439),F=a(35),K=a(419),U=function(e){function t(t){var a;return(a=e.call(this,t)||this).dialogRef=void 0,a.modalRef=void 0,a.windowResizeListener=null,a.contentElement=null,a.getBodyStyles=function(){return a.state.bodyStyles},a.handleShow=function(){var e=a.dialogRef.current;a.updateModalStyles(e),a.contentElement=e.querySelector("."+a.addPrefix("content")),a.windowResizeListener=Object(P.on)(window,"resize",a.handleResize),j()(a.contentElement,a.handleResize)},a.handleHide=function(){a.destroyEvent()},a.handleDialogClick=function(e){if(e.target===e.currentTarget){var t=a.props.onHide;t&&t(e)}},a.handleResize=function(){a.updateModalStyles(a.dialogRef.current)},a.addPrefix=function(e){return Object(w.a)(a.props.classPrefix)(e)},a.state={bodyStyles:{}},a.dialogRef=d.createRef(),a.modalRef=d.createRef(),a}Object(r.a)(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.destroyEvent()},a.getBodyStylesByDialog=function(e){var t=this.props,a=t.overflow,n=t.drawer,o=e||this.dialogRef.current,r=o?o.scrollHeight:0;if(!a)return{};var i={overflow:"auto"};if(o){var s,l=46,c=30,d=o.querySelector("."+this.addPrefix("header")),u=o.querySelector("."+this.addPrefix("footer")),p=o.querySelector("."+this.addPrefix("content"));if(l=d?Object(P.getHeight)(d)+l:l,s=u?Object(P.getHeight)(u)+l:l,c=p?Object(P.getHeight)(p)+c:c,n)i.height=c-(l+s);else{var f=l+s+60,m=Object(P.getHeight)(window)-f,h=r>=m?m:r;i.maxHeight=h}}return i},a.destroyEvent=function(){this.windowResizeListener&&this.windowResizeListener.off(),this.contentElement&&Object(E.unbind)(this.contentElement)},a.updateModalStyles=function(e){this.setState({bodyStyles:this.getBodyStylesByDialog(e)})},a.render=function(){var e,t,a=this.props,r=a.className,i=a.children,l=a.dialogClassName,u=a.backdropClassName,p=a.dialogStyle,f=a.animation,h=a.classPrefix,b=a.show,y=a.size,g=a.full,E=a.dialogComponentClass,j=a.animationProps,O=a.animationTimeout,x=a.onHide,C=Object(o.a)(a,["className","children","dialogClassName","backdropClassName","dialogStyle","animation","classPrefix","show","size","full","dialogComponentClass","animationProps","animationTimeout","onHide"]),P={in:b&&!f},w=E,k=c()(C,s()(v.a,"handledProps")),S=m()(this.addPrefix(y),r,((e={})[this.addPrefix("full")]=g,e)),T=d.createElement(w,Object(n.a)({},c()(C,Object.keys(H)),{classPrefix:h,className:S,dialogClassName:l,dialogStyle:p,onClick:!0===C.backdrop?this.handleDialogClick:null,dialogRef:this.dialogRef}),i);return d.createElement(K.a.Provider,{value:{onModalHide:x,getBodyStyles:this.getBodyStyles}},d.createElement(v.a,Object(n.a)({ref:this.modalRef,show:b,onHide:x,className:this.addPrefix("wrapper"),onEntering:Object(N.a)(this.handleShow,this.props.onEntering),onExited:Object(N.a)(this.handleHide,this.props.onExited),backdropClassName:m()(this.addPrefix("backdrop"),u,P),containerClassName:m()(this.addPrefix("open"),(t={},t[this.addPrefix("has-backdrop")]=C.backdrop,t)),transition:f||void 0,animationProps:j,dialogTransitionTimeout:O,backdropTransitionTimeout:150},k),T))},t}(d.Component);U.propTypes={classPrefix:p.a.string,size:p.a.oneOf(F.e),container:p.a.oneOfType([p.a.node,p.a.func]),onRendered:p.a.func,className:p.a.string,children:p.a.node,dialogClassName:p.a.string,backdropClassName:p.a.string,style:p.a.object,dialogStyle:p.a.object,backdropStyle:p.a.object,show:p.a.bool,full:p.a.bool,backdrop:p.a.oneOfType([p.a.bool,p.a.string]),keyboard:p.a.bool,transition:p.a.elementType,dialogTransitionTimeout:p.a.number,backdropTransitionTimeout:p.a.number,autoFocus:p.a.bool,enforceFocus:p.a.bool,overflow:p.a.bool,drawer:p.a.bool,dialogComponentClass:p.a.elementType,animation:p.a.any,animationProps:p.a.object,animationTimeout:p.a.number,onEscapeKeyUp:p.a.func,onBackdropClick:p.a.func,onShow:p.a.func,onHide:p.a.func,onEnter:p.a.func,onEntering:p.a.func,onEntered:p.a.func,onExit:p.a.func,onExiting:p.a.func,onExited:p.a.func},U.defaultProps={size:"sm",backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,animation:C.a,animationTimeout:300,dialogComponentClass:z,overflow:!0};var A=Object(k.a)({classPrefix:"modal"})(U);g()("Body",M.a)(A),g()("Header",D.a)(A),g()("Title",V.a)(A),g()("Footer",L.a)(A),g()("Dialog",z)(A);t.a=b()("Modal")(A)},522:function(e,t,a){},692:function(e,t,a){"use strict";a.r(t);var n=a(15),o=a(130),r=a(29),i=a(30),s=a(33),l=a(31),c=a(131),d=a(34),u=a(0),p=a.n(u),f=a(689),m=a(680),h=a(52),b=a(60),y=(a(522),a(400)),g=a(476).a,E=a(398),j=a(393),O=a(404),v=a(401),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).handleFrom=function(e,t){var n=a.props.formValue;n[e]=t,a.setState({formValue:n}),a.props.onModify(n)},a.handleUpdate=function(){var e=a.props.formValue.id,t=a.props.formValue.name.trim();if(!t)return y.a.error("\u533a\u57df\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),!1;a.props.onEdit(e,t,"area")},a.state={show:!0,formValue:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement("div",null,p.a.createElement(g,{backdrop:!0,show:this.props.show,onHide:this.props.onClose,size:"xs"},p.a.createElement(g.Header,null,p.a.createElement(g.Title,null,"\u65b0\u589e\u533a\u57df")),p.a.createElement(g.Body,null,p.a.createElement(E.a,{fluid:!0},p.a.createElement(j.a,null,p.a.createElement(O.a,null,"\u533a\u57df\u540d\u79f0"),p.a.createElement(v.a,{name:"name",value:this.props.formValue.name,onChange:function(t){e.handleFrom("name",t)}})))),p.a.createElement(g.Footer,null,p.a.createElement(h.a,{onClick:this.handleUpdate,appearance:"primary"},"\u63d0\u4ea4"),p.a.createElement(h.a,{onClick:this.props.onClose,appearance:"subtle"},"\u53d6\u6d88"))))}}]),t}(p.a.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).add=function(){a.setState({show:!0})},a.close=function(){var e=a.props.onModify;a.setState({show:!1},(function(){setTimeout((function(){e({id:0,name:""})}),500)}))},a.state={show:!1,page:1},a.add=a.add.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getList(0,20)}},{key:"componentDidUpdate",value:function(e,t,a){!e.update&&this.props.update&&this.close()}},{key:"render",value:function(){var e=this,t=f.a.Column,a=f.a.HeaderCell,n=f.a.Cell,r=f.a.Pagination;return p.a.createElement("div",{id:"page"},p.a.createElement(x,{show:this.state.show,formValue:this.props.formValue,onEdit:this.props.onUpdate,onClose:this.close,onModify:this.props.onModify}),p.a.createElement(h.a,{color:"orange",onClick:this.add},p.a.createElement(b.a,{icon:"plus"})," \u65b0\u589e\u533a\u57df"),p.a.createElement(m.a,null),p.a.createElement(f.a,{loading:!1,data:this.props.list,style:{marginLeft:25,marginRight:25},autoHeight:!0},p.a.createElement(t,{width:50,align:"center",fixed:!0},p.a.createElement(a,null,"ID"),p.a.createElement(n,{dataKey:"id"})),p.a.createElement(t,{flexGrow:6},p.a.createElement(a,null,"\u533a\u57df\u540d\u79f0"),p.a.createElement(n,{dataKey:"name"})),p.a.createElement(t,{flexGrow:3},p.a.createElement(a,null,"\u57ce\u5e02\u6570\u91cf"),p.a.createElement(n,{dataKey:"city_num"})),p.a.createElement(t,{flexGrow:3},p.a.createElement(a,null,"\u95e8\u5e97\u6570\u91cf"),p.a.createElement(n,{dataKey:"shop_num"})),p.a.createElement(t,{flexGrow:6},p.a.createElement(a,null),p.a.createElement((function(t){var a=t.rowData,r=(t.dataKey,Object(o.a)(t,["rowData","dataKey"]));return p.a.createElement(n,Object.assign({},r,{className:"link-group"}),p.a.createElement("a",{role:"button",onClick:function(){e.props.onModify({id:a.id,name:a.name}),e.setState({show:!0})}},"\u7f16\u8f91"),p.a.createElement(m.a,{vertical:!0}),p.a.createElement("a",{role:"button",onClick:function(){e.props.onDel(a.id,"area")}},"\u5220\u9664"))}),{dataKey:"id"}))),this.props.total>0?p.a.createElement(r,{activePage:this.state.page,displayLength:20,renderLengthMenu:function(){return""},total:this.props.total,onChangePage:function(t){e.props.getList(t,20),e.setState({page:t})}}):"")}}]),t}(p.a.Component),P=a(469),w=a(41);t.default=Object(n.o)(Object(w.c)((function(e){return{list:e.Area.list,total:e.Area.total,update:e.Area.update,del:e.Area.del,formValue:e.Area.formValue}}),(function(e){return{getList:function(t,a){return e(Object(P.c)(t,a))},onUpdate:function(t,a,n){return e(Object(P.e)(t,a,n))},onDel:function(t,a){return e(Object(P.a)(t,a))},onModify:function(t){return e(Object(P.d)(t))}}}))(C))}}]);
//# sourceMappingURL=6.16cbd6e2.chunk.js.map