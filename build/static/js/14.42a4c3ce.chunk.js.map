{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","component/keyWords/keyWordsEdit.tsx","component/keyWords/keyWordsInfo.tsx","component/keyWords/index.tsx","container/replay/keyWords.ts","actions/keyWords.ts"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","KeyWordsEdit","props","handleFrom","name","value","formValue","setState","console","log","onModify","handleUpdate","trim","keyWords","key_words","content","onUpdate","Alert","error","state","show","matchType","label","match","Drawer","this","onHide","onClose","size","Header","Title","title","Body","Form","fluid","FormGroup","ControlLabel","FormControl","onChange","e","className","Whisper","placement","trigger","speaker","Tooltip","Button","color","onClick","push","map","item","index","words","key","style","marginBottom","inputList","newInput","slice","SelectPicker","data","defaultValue","searchable","block","cleanable","RadioGroup","inline","reply_type","Radio","Footer","appearance","React","Component","KeyWordsInfo","info","display","Index","add","close","modify","setTimeout","initState","closeInfo","showInfo","page","bind","getList","prevProps","prevState","snapshot","update","Column","Table","HeaderCell","Cell","Pagination","id","Icon","icon","Divider","loading","list","marginLeft","marginRight","width","align","fixed","dataKey","flexGrow","rowData","forEach","substr","split","vertical","onDel","total","activePage","renderLengthMenu","renderTotal","onChangePage","withRouter","connect","KeyWords","del","dispatch","type","pageSize","replyType","GET_KEY_WORDS_LIST","getListAction","UPDATE_KEY_WORDS","updateAction","editType","DELETE_KEY_WORDS","deleteAction","MODIFY_KEY_WORDS","modifyAction"],"mappings":"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","file":"static/js/14.42a4c3ce.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React from \"react\";\nimport {\n    Drawer,\n    Button,\n    FormGroup,\n    ControlLabel,\n    FormControl,\n    Form,\n    Alert,\n    RadioGroup,\n    Radio,\n    SelectPicker,\n    Whisper,\n    Tooltip\n} from \"rsuite\";\n\nexport interface IProps {\n    show: boolean,\n    title: string,\n    formValue: any,\n    onClose: () => void,\n    onUpdate: (formValue: any) => void,\n    onModify: (formValue: any) => void,\n}\n\nexport default class KeyWordsEdit extends React.Component<IProps, any> {\n    constructor(props: Readonly<IProps>) {\n        super(props);\n        this.state = {\n            show: true,\n            matchType: [\n                {\n                    label: '半匹配',\n                    value: '1',\n                }, {\n                    label: '全匹配',\n                    value: '2',\n                }\n            ],\n            formValue: \"\",\n            match: \"1\",\n        }\n    }\n\n    handleFrom = (name: string, value: any) => {\n        let formValue = this.props.formValue\n        formValue[name] = value\n        formValue[\"type\"] = \"key_words\"\n        this.setState({\n            formValue: formValue\n        })\n        console.log(formValue)\n        this.props.onModify(formValue)\n    }\n\n    handleUpdate = () => {\n        const name = this.props.formValue.name.trim()\n        const keyWords = this.props.formValue.key_words\n        const content = this.props.formValue.content\n        if (!name) {\n            Alert.error(\"规则名称不能为空\")\n            return false\n        }\n        if (!keyWords[0]) {\n            Alert.error(\"关键词不能为空\")\n            return false\n        }\n        if (!content[0]) {\n            Alert.error(\"回复内容不能为空\")\n            return false\n        }\n        this.props.onUpdate(this.props.formValue)\n    }\n\n    render() {\n        return (\n            <Drawer\n                show={this.props.show}\n                onHide={this.props.onClose}\n                size=\"sm\"\n            >\n                <Drawer.Header>\n                    <Drawer.Title>{this.props.title}</Drawer.Title>\n                </Drawer.Header>\n                <Drawer.Body>\n                    <Form fluid>\n                        <FormGroup>\n                            <ControlLabel>规则名称</ControlLabel>\n                            <FormControl name=\"name\" value={this.props.formValue.name} onChange={(e) => {\n                                this.handleFrom(\"name\", e)\n                            }}/>\n                        </FormGroup>\n                        <FormGroup>\n                            <ControlLabel>匹配方式</ControlLabel>\n\n                        </FormGroup>\n                        <FormGroup>\n                            <div className=\"reply-attach-after\">\n                                <ControlLabel>关键词</ControlLabel>\n                                <Whisper placement=\"top\" trigger=\"hover\" speaker={<Tooltip>添加</Tooltip>}>\n                                    <Button color=\"green\" onClick={() => {\n                                        let keyWords = this.props.formValue.key_words\n                                        keyWords.push({\"match\": \"1\", \"words\": \"\"})\n                                        this.handleFrom(\"key_words\", keyWords)\n                                    }}>+</Button>\n                                </Whisper>\n                            </div>\n                            {\n                                this.props.formValue.key_words.map((item: any, index: number) => {\n                                    console.log(item, item[\"match\"], item.words)\n                                    return <div key={index} className=\"reply-attach-before\"\n                                                style={{marginBottom: \"15px\"}}>\n                                        {\n                                            index > 0 ? <Whisper placement=\"top\" trigger=\"hover\"\n                                                                 speaker={<Tooltip>删除</Tooltip>}>\n                                                <Button color=\"red\" onClick={() => {\n                                                    let inputList = this.props.formValue.key_words\n                                                    let newInput = [...inputList.slice(0, index)]\n                                                    newInput.push(...inputList.slice(index + 1))\n                                                    this.handleFrom(\"key_words\", newInput)\n                                                }}>x</Button>\n                                            </Whisper> : \"\"\n                                        }\n                                        <SelectPicker data={this.state.matchType}\n                                                      defaultValue={item.match.toString()}\n                                                      searchable={false} block={true}\n                                                      cleanable={false}\n                                                      onChange={(e) => {\n                                                          this.setState({\n                                                              match: e\n                                                          })\n                                                      }}\n                                        />\n                                        <FormControl name=\"key_words[]\" value={item.words}\n                                                     onChange={(e) => {\n                                                         this.props.formValue.key_words[index] = {\n                                                             match: this.state.match,\n                                                             words: e\n                                                         }\n                                                         this.handleFrom(\"key_words\", this.props.formValue.key_words)\n                                                     }}/>\n                                    </div>\n                                })\n                            }\n                        </FormGroup>\n                        <FormGroup>\n                            <div className=\"reply-attach-after\">\n                                <ControlLabel>回复内容</ControlLabel>\n                                <Whisper placement=\"top\" trigger=\"hover\" speaker={<Tooltip>添加</Tooltip>}>\n                                    <Button color=\"green\" onClick={() => {\n                                        let content = this.props.formValue.content\n                                        content.push(\"\")\n                                        this.handleFrom(\"content\", content)\n                                    }}>+</Button>\n                                </Whisper>\n                            </div>\n                            {\n                                this.props.formValue.content.map((item: any, index: number) => {\n                                    return <div key={index} className=\"reply-attach-before\"\n                                                style={{marginBottom: \"15px\"}}>\n                                        {\n                                            index > 0 ? <Whisper placement=\"top\" trigger=\"hover\"\n                                                                 speaker={<Tooltip>删除</Tooltip>}>\n                                                <Button color=\"red\" onClick={() => {\n                                                    let inputList = this.props.formValue.content\n                                                    let newInput = [...inputList.slice(0, index)]\n                                                    newInput.push(...inputList.slice(index + 1))\n                                                    this.handleFrom(\"content\", newInput)\n                                                }}>x</Button>\n                                            </Whisper> : \"\"\n                                        }\n                                        <FormControl name=\"content[]\" value={item} onChange={(e) => {\n                                            this.props.formValue.content[index] = e\n                                            this.handleFrom(\"content\", this.props.formValue.content)\n                                        }}/>\n                                    </div>\n                                })\n                            }\n                        </FormGroup>\n                        <FormGroup>\n                            <ControlLabel>回复方式</ControlLabel>\n                            <RadioGroup inline name=\"reply_type\" value={this.props.formValue.reply_type}\n                                        onChange={value => {\n                                            this.handleFrom(\"reply_type\", value)\n                                        }}>\n                                <Radio value=\"1\">回复全部</Radio>\n                                <Radio value=\"2\">随机一条</Radio>\n                            </RadioGroup>\n                        </FormGroup>\n                    </Form>\n                </Drawer.Body>\n                <Drawer.Footer>\n                    <Button onClick={this.handleUpdate} appearance=\"primary\">提交</Button>\n                    <Button onClick={this.props.onClose} appearance=\"subtle\">取消</Button>\n                </Drawer.Footer>\n            </Drawer>\n        )\n    }\n}","import React from \"react\";\nimport {\n    Button,\n    Drawer,\n    Panel,\n    ControlLabel,\n    List\n} from \"rsuite\";\n\nexport interface IProps {\n    show: boolean,\n    info: any,\n    onClose: () => void\n}\n\nexport default class KeyWordsInfo extends React.Component<IProps, any> {\n    render() {\n        return (\n            <Drawer\n                show={this.props.show}\n                onHide={this.props.onClose}\n                size=\"xs\"\n            >\n                <Drawer.Header>\n                    <Drawer.Title>查看详情</Drawer.Title>\n                </Drawer.Header>\n                <Drawer.Body>\n                    <div className=\"info-body\">\n                        <div className=\"info-header\">规则名称</div>\n                        <div className=\"info-content\">{this.props.info.name}</div>\n                    </div>\n                    <div className=\"info-body\">\n                        <div className=\"info-header\">关键词</div>\n                        <div className=\"info-content\">\n                            {\n                                this.props.info.key_words.map((item: any, index: number) => {\n                                    return <span key={index}>{item.words}({item.match === \"1\" ? \"半匹配\" : \"全匹配\"})</span>\n                                })\n                            }\n                        </div>\n                    </div>\n                    <div className=\"info-body\">\n                        <div className=\"info-header\">回复内容</div>\n                        <div className=\"info-content\">\n                            {\n                                this.props.info.content.map((item: any, index: number) => {\n                                    return <span key={index} style={{display: \"block\"}}>{item}</span>\n                                })\n                            }\n                        </div>\n                    </div>\n                    <div className=\"info-body\">\n                        <div className=\"info-header\">回复方式</div>\n                        <div className=\"info-content\">{this.props.info.reply_type === \"1\" ? \"全部回复\" : \"随机一条\"}</div>\n                    </div>\n                </Drawer.Body>\n                <Drawer.Footer>\n                    <Button onClick={this.props.onClose} appearance=\"primary\">关闭</Button>\n                </Drawer.Footer>\n            </Drawer>\n        )\n    }\n}","import React from \"react\";\nimport {Button, Divider, Icon, Table} from \"rsuite\";\nimport \"../../sass/reply.scss\"\nimport KeyWordsEdit from \"./keyWordsEdit\";\nimport KeyWordsInfo from \"./keyWordsInfo\";\nimport {initState} from \"../../reducers/keyWords\"\n\nexport interface IProps {\n    list: any\n    total: number\n    update: boolean\n    formValue: any\n    getList: (type: string, page: number, pageSize: number) => void\n    onUpdate: (formValue: any) => void\n    onDel: (id: number, type: string) => void,\n    onModify: (formValue: any) => void,\n}\n\nexport default class Index extends React.Component<IProps, any> {\n    constructor(props: Readonly<IProps>) {\n        super(props)\n        this.state = {\n            show: false,\n            showInfo: false,\n            info: initState.formValue,\n            title: \"添加回复\",\n            page: 1\n        }\n        this.add = this.add.bind(this)\n    }\n\n    componentDidMount(): void {\n        this.props.getList(\"key_words\", 0, 20)\n    }\n\n    componentDidUpdate(prevProps: Readonly<IProps>, prevState: Readonly<any>, snapshot?: any): void {\n        if (!prevProps.update && this.props.update) {\n            this.close()\n        }\n    }\n\n    add = () => {\n        this.setState({\n            show: true,\n        })\n    }\n\n    close = () => {\n        let modify = this.props.onModify\n        this.setState({\n            show: false\n        }, function () {\n            setTimeout(function () {\n                modify(initState.formValue)\n            }, 500)\n        })\n    }\n\n    closeInfo = () => {\n        this.setState({\n            showInfo: false\n        })\n    }\n\n    render() {\n        const {Column, HeaderCell, Cell, Pagination} = Table;\n        const ActionCell = ({rowData, dataKey, ...props}: any) => {\n            return (\n                <Cell {...props} className=\"link-group\">\n                    <a onClick={() => {\n                        this.props.onModify({\n                            \"id\": rowData.id,\n                            \"name\": rowData.name,\n                            \"key_words\": rowData.key_words,\n                            \"content\": rowData.content.split(\",\"),\n                            \"reply_type\": rowData.reply_type.toString(),\n                            \"type\": \"key_words\"\n                        })\n                        this.setState({\n                            title: \"编辑回复\",\n                            show: true\n                        })\n\n                    }}>编辑</a>\n                    <Divider vertical/>\n                    <a onClick={() => {\n                        this.setState({\n                            showInfo: true,\n                            info: {\n                                \"id\": rowData.id,\n                                \"name\": rowData.name,\n                                \"key_words\": rowData.key_words,\n                                \"content\": rowData.content.split(\",\"),\n                                \"reply_type\": rowData.reply_type.toString(),\n                                \"type\": \"key_words\"\n                            }\n                        })\n                    }}>详情</a>\n                    <Divider vertical/>\n                    <a onClick={() => {\n                        this.props.onDel(rowData.id, \"key_words\")\n                    }}>删除</a>\n                </Cell>\n            );\n        };\n        const KeyCell = ({rowData, dataKey, ...props}: any) => {\n            const data = rowData[\"key_words\"]\n            let keyWords = \"\"\n            data.forEach((item: any, index: number) => {\n                keyWords += item.words + \",\"\n            })\n            if (keyWords.length > 0) {\n                keyWords = keyWords.substr(0, keyWords.length - 1)\n            }\n            return <Cell {...props}>{keyWords}</Cell>\n        }\n        return (\n            <div id=\"page\">\n                <KeyWordsEdit show={this.state.show} onClose={this.close} title={this.state.title}\n                              formValue={this.props.formValue} onModify={this.props.onModify}\n                              onUpdate={this.props.onUpdate}/>\n                <KeyWordsInfo info={this.state.info} show={this.state.showInfo} onClose={this.closeInfo}/>\n                <Button color=\"orange\" onClick={this.add}>\n                    <Icon icon=\"plus\"/> 新增回复\n                </Button>\n                <Divider/>\n                <Table loading={false} data={this.props.list} style={{marginLeft: 25, marginRight: 25}}>\n                    <Column width={50} align=\"center\" fixed>\n                        <HeaderCell>Id</HeaderCell>\n                        <Cell dataKey=\"id\"/>\n                    </Column>\n                    <Column flexGrow={4}>\n                        <HeaderCell>规则名称</HeaderCell>\n                        <Cell dataKey=\"name\"/>\n                    </Column>\n                    <Column flexGrow={9}>\n                        <HeaderCell>关键字</HeaderCell>\n                        <KeyCell dataKey=\"key_words\"/>\n                    </Column>\n                    <Column flexGrow={9}>\n                        <HeaderCell>回复内容</HeaderCell>\n                        <Cell dataKey=\"content\"/>\n                    </Column>\n                    <Column flexGrow={3}>\n                        <HeaderCell></HeaderCell>\n                        <ActionCell dataKey=\"id\"/>\n                    </Column>\n                </Table>\n                {\n                    this.props.total > 0 ? <Pagination\n                        activePage={this.state.page}\n                        total={this.props.total}\n                        renderLengthMenu={() => {\n                            return \"\"\n                        }}\n                        renderTotal={() => {\n                            return <div>总数:{this.props.total}</div>\n                        }}\n                        onChangePage={page => {\n                            this.props.getList(\"key_words\", page, 20)\n                            this.setState({\n                                page: page\n                            })\n                        }}\n                    /> : \"\"\n                }\n            </div>\n        )\n    }\n}","import {withRouter} from \"react-router\"\nimport {Dispatch} from \"redux\";\nimport {deleteAction, getListAction, updateAction, modifyAction} from \"../../actions/keyWords\";\nimport {connect} from \"react-redux\";\nimport keyWords from \"../../component/keyWords\";\n\nconst mapStateToProps = (state: any) => ({\n    list: state.KeyWords.list,\n    total: state.KeyWords.total,\n    update: state.KeyWords.update,\n    del: state.KeyWords.del,\n    formValue: state.KeyWords.formValue\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    getList: (type: string, page: number, pageSize: number) => dispatch(getListAction(type, page, pageSize)),\n    onUpdate: (formValue: any) => dispatch(updateAction(formValue)),\n    onDel: (id: number, type: string) => dispatch(deleteAction(id, type)),\n    onModify: (formValue: any) => dispatch(modifyAction(formValue))\n})\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(keyWords))","import {DELETE_KEY_WORDS, GET_KEY_WORDS_LIST, MODIFY_KEY_WORDS, UPDATE_KEY_WORDS} from \"../constants/actions\";\n\nexport interface keyWords {\n    type: string\n    list: any,\n    total: number,\n    update: boolean,\n    del: boolean,\n    formValue: any\n}\n\n\nfunction getListAction(replyType: string, page: number, pageSize: number) {\n    return {\n        type: GET_KEY_WORDS_LIST,\n        replyType,\n        page,\n        pageSize,\n    }\n}\n\nfunction updateAction(formValue: any) {\n    return {\n        type: UPDATE_KEY_WORDS,\n        formValue\n    }\n}\n\nfunction deleteAction(id: number, editType: string) {\n    return {\n        type: DELETE_KEY_WORDS,\n        id,\n        editType,\n    }\n}\n\nfunction modifyAction(formValue: any) {\n    return {\n        type: MODIFY_KEY_WORDS,\n        formValue\n    }\n}\n\nexport {\n    getListAction,\n    updateAction,\n    deleteAction,\n    modifyAction\n}"],"sourceRoot":""}